document.addEventListener("DOMContentLoaded",(()=>{function t(){const t={x:l.width,y:100,width:10,height:20,color:"red",speed:2,draw(){n.fillStyle=this.color,n.fillRect(this.x,this.y,this.width,this.height)}};r.push(t)}function i(){if(!c){n.clearRect(0,0,l.width,l.height),s.draw(),s.isJumping&&(s.y+=s.velocityY,s.velocityY+=.5,s.y>=100&&(s.y=100,s.isJumping=!1)),y++,y%120==0&&t();for(let t=r.length-1;t>=0;t--){const i=r[t];i.x-=i.speed,i.draw(),s.x<i.x+i.width&&s.x+s.width>i.x&&s.y<i.y+i.height&&s.y+s.height>i.y&&(c=!0,o>d&&(d=o)),i.x+i.width<0&&(r.splice(t,1),o++)}n.fillStyle="#333",n.font="16px Arial",n.fillText(`Score: ${o}`,10,20),n.fillText(`High Score: ${d}`,10,40),c&&(n.fillStyle="#333",n.font="24px Arial",n.fillText("Game Over",l.width/2-60,l.height/2),n.font="16px Arial",n.fillText("Press Space to Restart",l.width/2-75,l.height/2+20)),requestAnimationFrame(i)}}function e(){s.isJumping||(s.isJumping=!0,s.velocityY=-10)}function h(){c=!1,o=0,r.length=0,s.y=100,y=0,i()}const l=document.getElementById("dino-game"),n=l.getContext("2d");l.width=600,l.height=150;let o=0,d=0,c=!1;const s={x:50,y:100,width:20,height:20,color:"#333",velocityY:0,isJumping:!1,draw(){n.fillStyle=this.color,n.fillRect(this.x,this.y,this.width,this.height)}},r=[];let y=0;document.addEventListener("keydown",(t=>{"Space"===t.code&&(c?h():e())})),i()}));